{% extends "base.html.j2" %}

{% block css %}
    <link rel="stylesheet" href="{{url_for('static', filename='css/battle.css')}}">
{% endblock %}

{% block title %}
Battle
{% endblock %}

{% block content %}

<h1>Pok&eacute;mon Battleground</h1>
<a class="btn" href="{{url_for('main.launch_attack', id=opponent.id)}}">Launch Attack&nbsp;<i class="bi bi-bullseye"></i></a>
    <div class="row mt-5">
        <div class="col-md-3">
            <table id="user_squad">
                <thead>
                    <tr>
                        <th colspan="3">Your Squad</th>
                    </tr>
                </thead>
                {% for poke in user_poke %}
                <tbody>
                    <tr>
                        <th>{{poke["name"].title()}}</th>
                    </tr>
                    <tr>
                        <td rowspan="3"><img src="{{poke['sprite']}}" class="img-fluid d-block mx-auto" alt="Picture of {{poke['name']}}."></td>
                        <td>HP:</td>
                        <td>{{poke["hp"]}}</td>
                    </tr>
                    <tr>
                        <td>Attack:</td>
                        <td>{{poke["attack"]}}</td>
                    </tr>
                    <tr>
                        <td>Defense:</td>
                        <td>{{poke["defense"]}}</td>
                    </tr>
                </tbody>
                {% endfor %}
            </table>
        </div>
        <div id="matchup" class="col-md-6">
            <div class="row">
                <h2>{{current_user.first_name.title()}} (You)</h2>
                <img src="{{current_user.get_icon_url()}}" class="img-fluid d-block mx-auto" alt="User avatar.">
            </div>
            <div class="row">
                <img id="vs" src="https://res.cloudinary.com/detcvmtip/image/upload/v1652327250/pokedex_images/vs3_t0efx6.png" class="img-fluid d-block mx-auto" alt="Versus symbol.">
            </div>
            <div class="row">
                <h2>{{opponent.first_name.title()}} (Opponent)</h2>
                <img src="{{opponent.get_icon_url()}}" class="img-fluid d-block mx-auto" alt="User avatar.">
            </div>
        </div>
        <div class="col-md-3">
            <table id="opp_squad">
                <thead>
                    <tr>
                        <th colspan="3">Opponent's Squad</th>
                    </tr>
                </thead>
                {% for poke in opp_poke %}
                <tbody>
                    <tr>
                        <th>{{poke["name"].title()}}</th>
                    </tr>
                    <tr>
                        <td rowspan="3"><img src="{{poke['sprite']}}" class="img-fluid d-block mx-auto" alt="Picture of {{poke['name']}}."></td>
                        <td>HP:</td>
                        <td>{{poke["hp"]}}</td>
                    </tr>
                    <tr>
                        <td>Attack:</td>
                        <td>{{poke["attack"]}}</td>
                    </tr>
                    <tr>
                        <td>Defense:</td>
                        <td>{{poke["defense"]}}</td>
                    </tr>
                </tbody>
                {% endfor %}
            </table>
        </div>
    </div>

{% endblock %}